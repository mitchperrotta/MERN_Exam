{"version":3,"sources":["components/Input.jsx","views/Reg.jsx","views/Main.jsx","views/Login.jsx","App.js","reportWebVitals.js","index.js"],"names":["Input","props","name","type","value","handleChange","error","label","submitValue","className","onChange","message","Reg","setLogged","initialReg","email","password","confirmPass","useState","reg","setReg","errors","setErrors","handleInputChange","e","target","onSubmit","preventDefault","Axios","post","withCredentials","then","res","console","log","data","user","navigate","catch","err","to","Main","Logged","users","setUsers","useEffect","get","results","response","status","onClick","map","u","i","Login","initialLogin","setLog","App","logged","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.53539d54.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Input = props => {\r\n    const {name, type, value, handleChange, error, label, submitValue} = props;\r\n\r\n    return(\r\n        type !== \"submit\" ?\r\n            <div className=\"form-group\">\r\n                <label>{label}</label>\r\n                <input\r\n                    className=\"form-control\"\r\n                    type={type}\r\n                    value={value}\r\n                    name={name}\r\n                    onChange={handleChange}\r\n                />\r\n                <span className=\"text-danger\">{error ? error.message : \"\"}</span>\r\n            </div>\r\n            :\r\n            <input type=\"submit\" className=\"btn btn-primary\" value={submitValue}/>\r\n    )\r\n}\r\n\r\nexport default Input;","import React, { useState } from 'react';\r\nimport Axios from 'axios';\r\nimport Input from '../components/Input';\r\nimport {Link, navigate} from '@reach/router'\r\n\r\nconst Reg = props => {\r\n    const {setLogged} = props;\r\n\r\n    const initialReg = {\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPass: \"\"\r\n    }\r\n    const [reg, setReg] = useState(initialReg);\r\n    const [errors, setErrors] = useState(initialReg)\r\n\r\n    const handleInputChange = e => {\r\n        setReg({\r\n            ...reg,\r\n            [e.target.name]:e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        Axios.post('http://localhost:8000/api/register', reg, {withCredentials: true})\r\n            .then(res => {\r\n                console.log(res);\r\n                if(res.data.user){\r\n                    setLogged(res.data.user);\r\n                    navigate(\"/dashboard\")\r\n                }\r\n                else{\r\n                    setErrors(res.data)\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return(\r\n        <form className=\"col-5 mx-auto\" onSubmit={handleSubmit}>\r\n            <h2>Register</h2>\r\n            <Input\r\n                name=\"name\"\r\n                value={reg.name}\r\n                error={errors.name}\r\n                handleChange={handleInputChange}\r\n                label=\"Name: \"\r\n                type=\"text\"\r\n            />\r\n            <Input\r\n                name=\"email\"\r\n                value={reg.email}\r\n                error={errors.email}\r\n                handleChange={handleInputChange}\r\n                label=\"Email: \"\r\n                type=\"email\"\r\n            />\r\n            <Input\r\n                name=\"password\"\r\n                value={reg.password}\r\n                error={errors.password}\r\n                handleChange={handleInputChange}\r\n                label=\"Password: \"\r\n                type=\"password\"\r\n            />\r\n            <Input\r\n                name=\"confirmPass\"\r\n                value={reg.confirmPass}\r\n                error={errors.confirmPass}\r\n                handleChange={handleInputChange}\r\n                label=\"Confirm Password: \"\r\n                type=\"password\"\r\n            />\r\n            <Input\r\n                submitValue=\"Register\"\r\n                type=\"submit\"\r\n            />\r\n            <br/>\r\n            <Link to=\"/login\">Already have an account?</Link>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Reg","import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport { navigate } from '@reach/router';\r\n\r\nconst Main = props => {\r\n    const {Logged, setLogged} = props;\r\n    const [users, setUsers] = useState([]);\r\n\r\n    useEffect(() => {\r\n        Axios.get(\"http://localhost:8000/api/users\", {withCredentials: true})\r\n            .then(res => setUsers(res.data.results))\r\n            .catch(err => {\r\n                if(err.response.status === 401){\r\n                    navigate('/Login');\r\n                }\r\n            })\r\n    },[])\r\n\r\n    const handleLogout = () => {\r\n        Axios.get('http://localhost:8000/api/logout', {withCredentials: true})\r\n            .then(res => {\r\n                navigate('/login')\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h2>Welcome {Logged.name}</h2>\r\n            <button onClick={handleLogout} className=\"btn btn-danger\">Log Out</button>\r\n            <table className=\"table table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Email</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        users.map((u,i) => {\r\n                            return <tr key={i}>\r\n                                <td>{u.name}</td>\r\n                                <td>{u.email}</td>\r\n                            </tr>\r\n                        })\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main;","import React, {useState} from 'react';\r\nimport Axios from 'axios';\r\nimport Input from '../components/Input';\r\nimport {Link, navigate} from '@reach/router';\r\n\r\nconst Login = props => {\r\n    const {setLogged} = props;\r\n\r\n    const initialLogin = {\r\n        email: \"\",\r\n        password: \"\"\r\n    }\r\n\r\n    const [log, setLog] = useState(initialLogin);\r\n    const [errors, setErrors] = useState(initialLogin);\r\n\r\n    const handleInputChange = e => {\r\n        setLog({\r\n            ...log,\r\n            [e.target.name]:e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        Axios.post('http://localhost:8000/api/login', log, {withCredentials: true})\r\n            .then(res => {\r\n                console.log(res);\r\n                if(res.data.user){\r\n                    setLogged(res.data.user);\r\n                    navigate(\"/dashboard\")\r\n                }\r\n                else{\r\n                    console.log(res.data)\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return(\r\n        <form onSubmit={handleSubmit} className=\"col-5 mx-auto\">\r\n            <h2>Login</h2>\r\n            <Input\r\n                name=\"email\"\r\n                value={log.email}\r\n                error={errors.email}\r\n                handleChange={handleInputChange}\r\n                label=\"Email: \"\r\n                type=\"email\"\r\n            />\r\n            <Input\r\n                name=\"password\"\r\n                value={log.password}\r\n                error={errors.password}\r\n                handleChange={handleInputChange}\r\n                label=\"Password: \"\r\n                type=\"password\"\r\n            />\r\n            <Input\r\n                submitValue=\"Login\"\r\n                type=\"submit\"\r\n            />\r\n            <br/>\r\n            <Link to=\"/\">Already have an account?</Link>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Login;","import React, {useState} from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Reg from './views/Reg';\nimport {Router} from '@reach/router';\nimport Main from './views/Main';\nimport Login from './views/Login'\n\nfunction App() {\n  const [logged, setLogged] = useState(null);\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Reg\n          path=\"/\"\n          setLogged={setLogged}\n        />\n        <Login\n          path=\"/login\"\n          setLogged={setLogged}\n        />\n        <Main\n          path=\"/dashboard\"\n          Logged={logged}\n          setLogged={setLogged}\n        />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}