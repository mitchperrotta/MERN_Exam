(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,a){},27:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),c=a.n(s),r=a(19),l=a.n(r),o=(a(26),a(4)),i=(a(27),a(28),a(6)),j=a(7),b=a(5),u=a.n(b),d=function(e){var t=e.name,a=e.type,s=e.value,c=e.handleChange,r=e.error,l=e.label,o=e.submitValue;return"submit"!==a?Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:l}),Object(n.jsx)("input",{className:"form-control",type:a,value:s,name:t,onChange:c}),Object(n.jsx)("span",{className:"text-danger",children:r?r.message:""})]}):Object(n.jsx)("input",{type:"submit",className:"btn btn-primary",value:o})},h=a(3),m=function(e){var t=e.setLogged,a={name:"",email:"",password:"",confirmPass:""},c=Object(s.useState)(a),r=Object(o.a)(c,2),l=r[0],b=r[1],m=Object(s.useState)(a),O=Object(o.a)(m,2),g=O[0],p=O[1],x=function(e){b(Object(j.a)(Object(j.a)({},l),{},Object(i.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("form",{className:"col-5 mx-auto",onSubmit:function(e){e.preventDefault(),u.a.post("http://localhost:8000/api/register",l,{withCredentials:!0}).then((function(e){console.log(e),e.data.user?(t(e.data.user),Object(h.c)("/dashboard")):p(e.data)})).catch((function(e){return console.log(e)}))},children:[Object(n.jsx)("h2",{children:"Register"}),Object(n.jsx)(d,{name:"name",value:l.name,error:g.name,handleChange:x,label:"Name: ",type:"text"}),Object(n.jsx)(d,{name:"email",value:l.email,error:g.email,handleChange:x,label:"Email: ",type:"email"}),Object(n.jsx)(d,{name:"password",value:l.password,error:g.password,handleChange:x,label:"Password: ",type:"password"}),Object(n.jsx)(d,{name:"confirmPass",value:l.confirmPass,error:g.confirmPass,handleChange:x,label:"Confirm Password: ",type:"password"}),Object(n.jsx)(d,{submitValue:"Register",type:"submit"}),Object(n.jsx)("br",{}),Object(n.jsx)(h.a,{to:"/login",children:"Already have an account?"})]})},O=function(e){var t=e.Logged,a=(e.setLogged,Object(s.useState)([])),c=Object(o.a)(a,2),r=c[0],l=c[1];Object(s.useEffect)((function(){u.a.get("http://localhost:8000/api/users",{withCredentials:!0}).then((function(e){return l(e.data.results)})).catch((function(e){401===e.response.status&&Object(h.c)("/Login")}))}),[]);return Object(n.jsxs)("div",{children:[Object(n.jsxs)("h2",{children:["Welcome ",t.name]}),Object(n.jsx)("button",{onClick:function(){u.a.get("http://localhost:8000/api/logout",{withCredentials:!0}).then((function(e){Object(h.c)("/login")})).catch((function(e){return console.log(e)}))},className:"btn btn-danger",children:"Log Out"}),Object(n.jsxs)("table",{className:"table table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Email"})]})}),Object(n.jsx)("tbody",{children:r.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.email})]},t)}))})]})]})},g=function(e){var t=e.setLogged,a={email:"",password:""},c=Object(s.useState)(a),r=Object(o.a)(c,2),l=r[0],b=r[1],m=Object(s.useState)(a),O=Object(o.a)(m,2),g=O[0],p=(O[1],function(e){b(Object(j.a)(Object(j.a)({},l),{},Object(i.a)({},e.target.name,e.target.value)))});return Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u.a.post("http://localhost:8000/api/login",l,{withCredentials:!0}).then((function(e){console.log(e),e.data.user?(t(e.data.user),Object(h.c)("/dashboard")):console.log(e.data)})).catch((function(e){return console.log(e)}))},className:"col-5 mx-auto",children:[Object(n.jsx)("h2",{children:"Login"}),Object(n.jsx)(d,{name:"email",value:l.email,error:g.email,handleChange:p,label:"Email: ",type:"email"}),Object(n.jsx)(d,{name:"password",value:l.password,error:g.password,handleChange:p,label:"Password: ",type:"password"}),Object(n.jsx)(d,{submitValue:"Login",type:"submit"}),Object(n.jsx)("br",{}),Object(n.jsx)(h.a,{to:"/",children:"Already have an account?"})]})};var p=function(){var e=Object(s.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(h.b,{children:[Object(n.jsx)(m,{path:"/",setLogged:c}),Object(n.jsx)(g,{path:"/login",setLogged:c}),Object(n.jsx)(O,{path:"/dashboard",Logged:a,setLogged:c})]})})},x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,54)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};l.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(p,{})}),document.getElementById("root")),x()}},[[53,1,2]]]);
//# sourceMappingURL=main.53539d54.chunk.js.map